import{r as u,c as m,a as s,b as n,v as a,w as p,u as c,o as f,L as b}from"./index--pH74L_3.js";const v={class:"container"},g={class:"row g-3"},y={class:"col-12"},w={class:"col-12"},x={class:"col-12"},P={class:"col-12 pt-1"},D={__name:"ProductForm",setup(B){const i=c(),l=u({data:{name:"",price:0,discountPer:0},img:null}),r=o=>{const t=o.target.files[0];console.log("file:",t),l.img=t},d=async()=>{const o=new FormData;o.append("img",l.img),o.append("data",new Blob([JSON.stringify(l.data)],{type:"application/json"}));const t=await b(o);if(console.log("res:",t),t===void 0||t.status!==200){alert("에러 발생");return}i.push("/")};return(o,t)=>(f(),m("form",{class:"forder-form",onSubmit:p(d,["prevent"])},[s("div",v,[t[9]||(t[9]=s("div",{class:"py-5 text-center"},[s("div",{class:"h4"},[s("b",null,"상품 등록")])],-1)),s("div",null,[t[8]||(t[8]=s("div",{class:"h5 mb-3"},[s("b",null,"상품 정보")],-1)),s("div",g,[s("div",y,[t[3]||(t[3]=s("label",{for:"name",class:"form-label"},"상품명",-1)),n(s("input",{type:"text",class:"form-control p-3",id:"name","onUpdate:modelValue":t[0]||(t[0]=e=>l.data.name=e)},null,512),[[a,l.data.name]])]),s("div",w,[t[4]||(t[4]=s("label",{for:"price",class:"form-label"},"가격",-1)),n(s("input",{type:"number",class:"form-control p-3",id:"price","onUpdate:modelValue":t[1]||(t[1]=e=>l.data.price=e)},null,512),[[a,l.data.price]])]),s("div",x,[t[5]||(t[5]=s("label",{for:"discount",class:"form-label"},"할인율",-1)),n(s("input",{type:"number",class:"form-control p-3",id:"discount","onUpdate:modelValue":t[2]||(t[2]=e=>l.data.discountPer=e)},null,512),[[a,l.data.discountPer]])]),s("div",P,[t[6]||(t[6]=s("label",{class:"form-label"},"이미지",-1)),s("input",{type:"file",id:"img",hidden:"",class:"form-control p-3",accept:"image/*",onChange:r},null,32),t[7]||(t[7]=s("div",null,[s("label",{for:"img"},"파일 선택")],-1))])])]),t[10]||(t[10]=s("div",null,[s("button",{class:"w-100 btn btn-primary py-4 mt-4"},"등록")],-1))])],32))}};export{D as default};
